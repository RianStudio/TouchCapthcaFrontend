<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>demo</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script type="text/javascript" src="assets/func.js"></script>
    <style type="text/css">
        .box_1{
            position:relative;
            height: 200px;
            width: 300px;
            background-color: antiquewhite;

        }
        .box_2{
            height: 30px;
            width: 300px;
            background-color: aquamarine;
        }

        .but{
            height: 10px;
            width: 20px;
            padding-top: 5px;
            /*margin-top: 5px;*/
            background-color: black;
            margin-left: 10px;
        }

        .but-drag{
            background-color: beige;
        }


        .hidden{
            display: none;

        }

        .pic-k{
            width: 250px;
            height: 180px;
            position: absolute;
            left: 10px;
            top: 10px;
            overflow: hidden;
        }


        .div-a{ position:absolute;  background:#F00;  z-index: 10}
        /* css注释说明： 背景为红色 */
        .div-b{ position:absolute;  background:#FF0;  z-index: 20}
        /* 背景为黄色 */
        .div-c{ position:absolute;  background:#00F; z-index: 30}
        /* DIV背景颜色为蓝色 */

    </style>
</head>
<body>

<h1>captchca demo</h1>

<form action="#" method="post">


    <label for="email"  >email</label><input type="email" name="email" id="email"><br/>

    <label for="password"  >password</label><input type="password" name="password" id="password"><br/>

    <div class="captchca_box">

        <div class="box_1">
            <!--放置一个图片-->
            <div id="div-a" class="div-a pic-k">图片载入中</div>
            <div id="div-b" class="div-b pic-k">展示完整的图片</div>
            <div id="div-c" class="div-c pic-k">
                <div id="drag" class="but" ></div>

                </div>

        </div>
        <div class="box_2">
            拖拽拼图到指定位置以验证 <button onclick="init()">重新载入图片</button>

        </div>

    </div><br/>

    <button type="submit" value="submit" >Commit</button>

</form>



<script>

    function  init(){
        $(function () {
            $("#drag").draggable(
                    {
                        containment: "parent",

                        create: function (event, ui) {

                            showC()
                        }, drag: function (event, ui) {
                        // Keep the left edge of the element
                        // at least 100 pixels from the container
                        ui.position.left = Math.min(250, ui.position.left);

                        $("#drag").addClass('but-drag');
                        showC();

                    }, stop: function (event, ui) {

                        $("#drag").removeClass('but-drag')

                        showC()
                        if (ui.position.left > 150) {
                            showB()
                        }
                    }

                    }
            );


        });
    }

    init()

    function showA(){
//        $( "#div-a" ).addClass('hidden');
        $( "#div-b" ).addClass('hidden');
        $( "#div-c" ).addClass('hidden');
        $( "#div-a" ).removeClass('hidden');
//        $( "#div-b" ).removeClass('hidden');
//        $( "#div-c" ).removeClass('hidden');
    }
    function showB(){
        $( "#div-a" ).addClass('hidden');
//        $( "#div-b" ).addClass('hidden');
        $( "#div-c" ).addClass('hidden');
//        $( "#div-a" ).removeClass('hidden');
        $( "#div-b" ).removeClass('hidden');
//        $( "#div-c" ).removeClass('hidden');
    }
    function showC(){
        $( "#div-a" ).addClass('hidden');
        $( "#div-b" ).addClass('hidden');
//        $( "#div-c" ).addClass('hidden');
//        $( "#div-a" ).removeClass('hidden');
//        $( "#div-b" ).removeClass('hidden');
        $( "#div-c" ).removeClass('hidden');
    }
    loading()
</script>
</body>
</html>